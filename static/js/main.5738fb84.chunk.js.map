{"version":3,"sources":["App.module.css","Components/Reader/Reader.module.css","Components/Counter/Counter.module.css","Components/Publication/Publication.module.css","routes.js","Components/Controls/Controls.js","Components/Counter/Counter.js","Components/Publication/Publication.js","Components/Reader/Reader.js","App.js","index.js","Components/Controls/Controls.module.css"],"names":["module","exports","Controls","onDecrement","onIncrement","indexPublication","publicationQuantity","className","styles","controls","type","button","onClick","Counter","counter","Publication","publication","title","text","Reader","getIndexPublicationFromProps","props","URLSearchParams","location","search","get","onDecrementPublication","Number","history","push","pathname","onIncrementPublication","this","items","index","reduce","acc","item","indexOf","replace","reader","Component","defaultProps","App","exact","path","routes","render","publications","to","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5738fb84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3fCnp\",\"App-logo\":\"App_App-logo__2aEku\",\"App-header\":\"App_App-header__AZXcA\",\"App-link\":\"App_App-link__3fba3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__1h9II\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__3m69E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__HU9Mk\"};","export default {\r\n  HOME: '/',\r\n  READER: '/reader',\r\n  FIRST_PAGE: '/reader?item=1',\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Controls.module.css';\r\n\r\nconst Controls = ({\r\n  onDecrement,\r\n  onIncrement,\r\n  indexPublication,\r\n  publicationQuantity,\r\n}) => (\r\n  <section className={styles.controls}>\r\n    {indexPublication > 1 && (\r\n      <button type=\"button\" className={styles.button} onClick={onDecrement}>\r\n        Назад\r\n      </button>\r\n    )}\r\n    {indexPublication < publicationQuantity && (\r\n      <button type=\"button\" className={styles.button} onClick={onIncrement}>\r\n        Вперед\r\n      </button>\r\n    )}\r\n  </section>\r\n);\r\n\r\nControls.propTypes = {\r\n  onDecrement: PropTypes.func.isRequired,\r\n  onIncrement: PropTypes.func.isRequired,\r\n  indexPublication: PropTypes.number.isRequired,\r\n  publicationQuantity: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Controls;\r\n\r\n/* prevState < this.props.items.lenght &&\r\n */\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Counter.module.css';\r\n\r\nconst Counter = ({ indexPublication, publicationQuantity }) => (\r\n  <p className={styles.counter}>\r\n    {indexPublication}/{publicationQuantity}\r\n  </p>\r\n);\r\n\r\nCounter.propTypes = {\r\n  indexPublication: PropTypes.number.isRequired,\r\n  publicationQuantity: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Counter;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Publication.module.css';\r\n\r\nconst Publication = ({ publication, indexPublication }) => {\r\n  const { title, text } = publication;\r\n  return (\r\n    <article className={styles.publication}>\r\n      <h2>\r\n        {indexPublication}. {title}\r\n      </h2>\r\n      <p>{text}</p>\r\n    </article>\r\n  );\r\n};\r\n\r\nPublication.propTypes = {\r\n  indexPublication: PropTypes.number.isRequired,\r\n  publication: PropTypes.shape({\r\n    title: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default Publication;\r\n","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './Reader.module.css';\r\nimport Controls from '../Controls/Controls';\r\nimport Counter from '../Counter/Counter';\r\nimport Publication from '../Publication/Publication';\r\n\r\nexport default class Reader extends Component {\r\n  static propTypes = {\r\n    match: T.shape({\r\n      url: T.string.isRequired,\r\n    }).isRequired,\r\n    location: T.shape({\r\n      pathname: T.string.isRequired,\r\n      search: T.string.isRequired,\r\n      state: T.object,\r\n    }).isRequired,\r\n    history: T.shape({\r\n      push: T.func.isRequired,\r\n      replace: T.func.isRequired,\r\n    }).isRequired,\r\n    items: T.arrayOf(\r\n      T.shape({\r\n        id: T.string.isRequired,\r\n        title: T.string.isRequired,\r\n        text: T.string.isRequired,\r\n      }).isRequired,\r\n    ),\r\n  };\r\n\r\n  static defaultProps = {\r\n    items: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location, history, items } = this.props;\r\n    const index = Number(this.getIndexPublicationFromProps(this.props));\r\n    const publicationQuantity = items.reduce(\r\n      (acc, item) => 1 + items.indexOf(item),\r\n      0,\r\n    );\r\n\r\n    if (!index || index > publicationQuantity || index < 1) {\r\n      history.replace({\r\n        pathname: location.pathname,\r\n        search: `item=1`,\r\n      });\r\n    }\r\n  }\r\n\r\n  getIndexPublicationFromProps = props =>\r\n    new URLSearchParams(props.location.search).get('item');\r\n\r\n  onDecrementPublication = () => {\r\n    const indexPublication = Number(\r\n      this.getIndexPublicationFromProps(this.props),\r\n    );\r\n    this.props.history.push({\r\n      pathname: this.props.location.pathname,\r\n      search: `item=${indexPublication - 1}`,\r\n    });\r\n  };\r\n\r\n  onIncrementPublication = () => {\r\n    const indexPublication = Number(\r\n      this.getIndexPublicationFromProps(this.props),\r\n    );\r\n    this.props.history.push({\r\n      pathname: this.props.location.pathname,\r\n      search: `item=${indexPublication + 1}`,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { items } = this.props;\r\n    const publicationQuantity = items.reduce(\r\n      (acc, item) => 1 + items.indexOf(item),\r\n      0,\r\n    );\r\n    const index = Number(this.getIndexPublicationFromProps(this.props));\r\n    const item = items[index - 1];\r\n\r\n    return (\r\n      <div className={styles.reader}>\r\n        <Controls\r\n          onDecrement={this.onDecrementPublication}\r\n          onIncrement={this.onIncrementPublication}\r\n          indexPublication={index}\r\n          publicationQuantity={publicationQuantity}\r\n        />\r\n        <Counter\r\n          indexPublication={index}\r\n          publicationQuantity={publicationQuantity}\r\n        />\r\n        {item && <Publication publication={item} indexPublication={index} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport styles from './App.module.css';\r\nimport routes from './routes';\r\nimport Reader from './Components/Reader/Reader';\r\nimport publications from './path/to/publications.json';\r\n\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <div className={styles.App}>\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path={routes.READER}\r\n          // eslint-disable-next-line react/jsx-props-no-spreading\r\n          render={props => <Reader {...props} items={publications} />}\r\n        />\r\n        <Redirect to={routes.FIRST_PAGE} />\r\n      </Switch>\r\n    </div>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'normalize.css';\r\nimport './index.module.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__1RzE_\",\"button\":\"Controls_button__3V6Gn\"};"],"sourceRoot":""}